package org.scalajs.benchmark.bignums

object BigNums extends communitybench.Benchmark {
  override def prefix = "BigNums"

  val inputOutput: (String, String) = (
    "10",
    "7"
  )

  val p_2048 = BigInt("16864339782143439268592975596273701667595133409509550400489369839077293644778066748334629366612975497938750521775110252845214426585303158008313959606462562917054219941595709658562340232983165742145729322309545278769241360015807859583794171954928190583796803405767460112115067193883416250707776874162908675349082680403847940297125432222724058025879425222364773565720707568868475011269071045609098658602586269309407688736484568098374056387585616266448400153403804521072451843893715218116091240264053229814488134318859743668532667318812557448891014959604641949325547323877830933330208953292562530485265787065479908578389")
  val p_4096 = BigInt("842534876936114395486413138216047750064055145960661499085300921927650269202731314484342318596033696205536759677722190319043857942235321444182552438676216102983285090743161875595995055330944409115570377777578900377028373335123100657900004267030463007250146053889551768345623658854870847217732930900589525663956914019642529933182099217052939080153286136070555452262568418056503548694111421256957236763034111952103974769241839487858791777974798992686193732393925962557661240720024345371093068803860857905502336099781469005496052312162009172332288616215555936475700689775321794364207487507933691832768610678647354061634532871315342898621516929711781048141117042079199534624548398510129103068505657951302483034708267666352533365289694991437644346614848355940747797234302750028066939867584814236570321327248080714524324333838277375633492506659914653325225172023960884729331596144667554214470349757342993573455461250529365586170418020496791979530946161005964240750445899638132810284963275482789458034070517297690985995058815434801152867591849471714523029147375194549651129203205583301119458199705001379186870124333064677298014208875109901757984568767555180257834269655713720627631420114468741073107161089536501570003261285581382495123589013")

  def run(input: String): BigInt = {
    val i = BigInt(input)
    p_4096 modPow(p_4096, p_2048) mod (p_2048 modPow(p_2048, p_4096)) modInverse i
  }
}
